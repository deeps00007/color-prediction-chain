<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ColorPredict - Win Big on Blockchain</title>
  <link rel="stylesheet" href="style.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>

<div class="app">
  <header class="header">
    <div class="header-content">
      <h1 class="logo">
        <span class="logo-icon">üéØ</span>
        <span class="logo-text">Color<span class="accent">Predict</span></span>
      </h1>
      <div class="tagline">Blockchain Prediction Game</div>
    </div>
  </header>

  <div class="main-container">
    <!-- Left Panel -->
    <div class="left-panel">
      <div class="wallet-card">
    <button id="connectBtn" class="connect-btn">
      <span class="btn-icon">üîó</span>
      <span class="btn-text">Connect Wallet</span>
    </button>
    <div class="wallet-info" id="walletInfo" style="display: none;">
      <div class="wallet-detail">
        <span class="label">Address</span>
        <span class="value" id="wallet">-</span>
      </div>
      <div class="wallet-detail">
        <span class="label">Balance</span>
        <span class="value balance-value">
          <span id="balance">-</span>
          <span class="currency">CGT</span>
        </span>
      </div>
      <!-- Add Gas Help Link -->
      <div class="gas-help">
        <a href="https://sepoliafaucet.com/" target="_blank" title="Get free Sepolia ETH for gas fees">‚õΩ Need Gas?</a>
      </div>
    </div>
  </div>

  <div class="round-card">
    <div class="round-header">
      <div class="round-info">
        <span class="round-label">Round</span>
        <span class="round-number" id="roundId">-</span>
      </div>
      <div class="status-badge" id="statusBadge">
        <span class="status-dot"></span>
        <span id="roundStatus">-</span>
      </div>
    </div>
    <div class="timer-container">
      <div class="timer-circle">
        <svg class="timer-svg" viewBox="0 0 100 100">
          <circle class="timer-bg" cx="50" cy="50" r="45"></circle>
          <circle class="timer-progress" id="timerProgress" cx="50" cy="50" r="45"></circle>
        </svg>
        <div class="timer-content">
          <div class="timer-icon">‚è±Ô∏è</div>
          <div class="timer-value">
            <span id="timer">--</span><span class="timer-unit">s</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="betting-card">
    <h3 class="section-title">Place Your Bet</h3>
    
    <div class="amount-input-wrapper">
      <label for="amount" class="input-label">Bet Amount</label>
      <div class="input-group">
        <span class="input-icon">üí∞</span>
        <input id="amount" type="number" step="0.001" min="0.001" value="0.01" placeholder="0.01" />
        <span class="input-suffix">ETH</span>
      </div>
      <div class="quick-amounts">
        <button class="quick-btn" data-amount="0.01">0.01</button>
        <button class="quick-btn" data-amount="0.1">0.1</button>
        <button class="quick-btn" data-amount="1">1</button>
        <button class="quick-btn" data-amount="10">10</button>
      </div>
    </div>

    <div class="colors-section">
      <label class="input-label">Select Color</label>
      <div class="colors">
        <button class="color-btn red" data-color="RED">
          <span class="color-icon">üî¥</span>
          <span class="color-name">RED</span>
          <span class="color-multiplier">2x</span>
        </button>
        <button class="color-btn green" data-color="GREEN">
          <span class="color-icon">üü¢</span>
          <span class="color-name">GREEN</span>
          <span class="color-multiplier">2x</span>
        </button>
        <button class="color-btn violet" data-color="VIOLET">
          <span class="color-icon">üü£</span>
          <span class="color-name">VIOLET</span>
          <span class="color-multiplier">5x</span>
        </button>
      </div>
    </div>

    <button id="betBtn" class="place-bet-btn" disabled>
      <span class="btn-content">
        <span class="btn-icon">üé≤</span>
        <span class="btn-text">Place Bet</span>
      </span>
      <span class="btn-loader" style="display: none;">‚è≥ Processing...</span>
    </button>
    
    <div id="msg" class="message"></div>
  </div>
    </div>
    <!-- End Left Panel -->

    <!-- Right Panel -->
    <div class="right-panel">
      <div class="history-card">
        <h3 class="section-title">
          <span>üéØ Last Results</span>
          <span class="history-count" id="historyCount">0</span>
        </h3>
        <div id="results" class="results-grid"></div>
      </div>

      <div class="betting-history-card">
    <h3 class="section-title">
      <span>üìä My Betting History</span>
      <button class="clear-history-btn" id="clearHistory" style="display: none;">Clear</button>
    </h3>
    
    <div class="stats-grid">
      <div class="stat-card">
        <div class="stat-icon">üé≤</div>
        <div class="stat-content">
          <div class="stat-label">Total Bets</div>
          <div class="stat-value" id="totalBets">0</div>
        </div>
      </div>
      <div class="stat-card win-card">
        <div class="stat-icon">‚úÖ</div>
        <div class="stat-content">
          <div class="stat-label">Wins</div>
          <div class="stat-value" id="totalWins">0</div>
        </div>
      </div>
      <div class="stat-card loss-card">
        <div class="stat-icon">‚ùå</div>
        <div class="stat-content">
          <div class="stat-label">Losses</div>
          <div class="stat-value" id="totalLosses">0</div>
        </div>
      </div>
      <div class="stat-card profit-card">
        <div class="stat-icon">üí∞</div>
        <div class="stat-content">
          <div class="stat-label">Net P/L</div>
          <div class="stat-value" id="netProfitLoss">0 ETH</div>
        </div>
      </div>
    </div>
    
    <div class="history-table-container">
      <table id="historyTable">
        <thead>
          <tr>
            <th>Round</th>
            <th>Bet</th>
            <th>Color</th>
            <th>Result</th>
            <th>Balance Before</th>
            <th>Balance After</th>
            <th>Win/Loss</th>
          </tr>
        </thead>
        <tbody id="historyBody">
          <tr>
            <td colspan="7" style="text-align: center; color: #888;">No betting history yet. Place your first bet!</td>
          </tr>
        </tbody>
      </table>
    </div>
      </div>
    </div>
    <!-- End Right Panel -->
  </div>
  <!-- End Main Container -->
</div>

<script type="module" src="./app.js"></script>
</body>
</html>
